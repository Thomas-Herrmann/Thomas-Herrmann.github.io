<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Haste.Concurrent</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Haste-Concurrent.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">haste-lib-0.6.0.0: Base libraries for haste-compiler.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell98</td></tr></table><p class="caption">Haste.Concurrent</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Concurrency for Haste. Includes MVars, forking, Ajax and more.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:MVar">MVar</a> a</li><li class="src short"><span class="keyword">data</span> <a href="#t:CIO">CIO</a> a</li><li class="src short"><span class="keyword">class</span> <a href="Haste.html#t:MonadIO">MonadIO</a> m =&gt; <a href="#t:MonadConc">MonadConc</a> m <span class="keyword">where</span><ul class="subs"><li><a href="#v:liftCIO">liftCIO</a> :: <a href="Haste-Concurrent.html#t:CIO">CIO</a> a -&gt; m a</li><li><a href="#v:fork">fork</a> :: m () -&gt; m ()</li></ul></li><li class="src short"><a href="#v:forkIO">forkIO</a> :: <a href="Haste-Concurrent.html#t:CIO">CIO</a> () -&gt; <a href="Haste-Concurrent.html#t:CIO">CIO</a> ()</li><li class="src short"><a href="#v:forkMany">forkMany</a> :: [<a href="Haste-Concurrent.html#t:CIO">CIO</a> ()] -&gt; <a href="Haste-Concurrent.html#t:CIO">CIO</a> ()</li><li class="src short"><a href="#v:newMVar">newMVar</a> :: <a href="Haste.html#t:MonadIO">MonadIO</a> m =&gt; a -&gt; m (<a href="Haste-Concurrent.html#t:MVar">MVar</a> a)</li><li class="src short"><a href="#v:newEmptyMVar">newEmptyMVar</a> :: <a href="Haste.html#t:MonadIO">MonadIO</a> m =&gt; m (<a href="Haste-Concurrent.html#t:MVar">MVar</a> a)</li><li class="src short"><a href="#v:takeMVar">takeMVar</a> :: <a href="Haste-Concurrent.html#t:MonadConc">MonadConc</a> m =&gt; <a href="Haste-Concurrent.html#t:MVar">MVar</a> a -&gt; m a</li><li class="src short"><a href="#v:putMVar">putMVar</a> :: <a href="Haste-Concurrent.html#t:MonadConc">MonadConc</a> m =&gt; <a href="Haste-Concurrent.html#t:MVar">MVar</a> a -&gt; a -&gt; m ()</li><li class="src short"><a href="#v:withMVarIO">withMVarIO</a> :: <a href="Haste-Concurrent.html#t:MonadConc">MonadConc</a> m =&gt; <a href="Haste-Concurrent.html#t:MVar">MVar</a> a -&gt; (a -&gt; <a href="file://C:\Program Files\Haskell Platform\7.10.2-a\lib/../doc/html/libraries/base-4.8.1.0/System-IO.html#t:IO">IO</a> b) -&gt; m b</li><li class="src short"><a href="#v:modifyMVarIO">modifyMVarIO</a> :: <a href="Haste-Concurrent.html#t:MonadConc">MonadConc</a> m =&gt; <a href="Haste-Concurrent.html#t:MVar">MVar</a> a -&gt; (a -&gt; <a href="file://C:\Program Files\Haskell Platform\7.10.2-a\lib/../doc/html/libraries/base-4.8.1.0/System-IO.html#t:IO">IO</a> (a, b)) -&gt; m b</li><li class="src short"><a href="#v:readMVar">readMVar</a> :: <a href="Haste-Concurrent.html#t:MonadConc">MonadConc</a> m =&gt; <a href="Haste-Concurrent.html#t:MVar">MVar</a> a -&gt; m a</li><li class="src short"><a href="#v:concurrent">concurrent</a> :: <a href="Haste-Concurrent.html#t:CIO">CIO</a> () -&gt; <a href="file://C:\Program Files\Haskell Platform\7.10.2-a\lib/../doc/html/libraries/base-4.8.1.0/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:liftIO">liftIO</a> :: <a href="Haste.html#t:MonadIO">MonadIO</a> m =&gt; <span class="keyword">forall</span> a. <a href="file://C:\Program Files\Haskell Platform\7.10.2-a\lib/../doc/html/libraries/base-4.8.1.0/System-IO.html#t:IO">IO</a> a -&gt; m a</li><li class="src short"><a href="#v:tryTakeMVar">tryTakeMVar</a> :: <a href="Haste-Concurrent.html#t:MonadConc">MonadConc</a> m =&gt; <a href="Haste-Concurrent.html#t:MVar">MVar</a> a -&gt; m (<a href="file://C:\Program Files\Haskell Platform\7.10.2-a\lib/../doc/html/libraries/base-4.8.1.0/Data-Maybe.html#t:Maybe">Maybe</a> a)</li><li class="src short"><a href="#v:tryPutMVar">tryPutMVar</a> :: <a href="Haste-Concurrent.html#t:MonadConc">MonadConc</a> m =&gt; <a href="Haste-Concurrent.html#t:MVar">MVar</a> a -&gt; a -&gt; m <a href="file://C:\Program Files\Haskell Platform\7.10.2-a\lib/../doc/html/libraries/base-4.8.1.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:wait">wait</a> :: <a href="file://C:\Program Files\Haskell Platform\7.10.2-a\lib/../doc/html/libraries/base-4.8.1.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="Haste-Concurrent.html#t:CIO">CIO</a> ()</li><li class="src short"><a href="#v:withResult">withResult</a> :: <a href="Haste-Concurrent.html#t:CIO">CIO</a> a -&gt; (a -&gt; <a href="file://C:\Program Files\Haskell Platform\7.10.2-a\lib/../doc/html/libraries/base-4.8.1.0/System-IO.html#t:IO">IO</a> ()) -&gt; <a href="file://C:\Program Files\Haskell Platform\7.10.2-a\lib/../doc/html/libraries/base-4.8.1.0/System-IO.html#t:IO">IO</a> ()</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:MVar" class="def">MVar</a> a</p></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:CIO" class="def">CIO</a> a</p><div class="doc"><p>Concurrent IO monad. The normal IO monad does not have concurrency
   capabilities with Haste. This monad is basically IO plus concurrency.</p></div><div class="subs instances"><p id="control.i:CIO" class="caption collapser" onclick="toggleSection('i:CIO')">Instances</p><div id="section.i:CIO" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="file://C:\Program Files\Haskell Platform\7.10.2-a\lib/../doc/html/libraries/base-4.8.1.0/Control-Monad.html#t:Monad">Monad</a> <a href="Haste-Concurrent.html#t:CIO">CIO</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file://C:\Program Files\Haskell Platform\7.10.2-a\lib/../doc/html/libraries/base-4.8.1.0/Data-Functor.html#t:Functor">Functor</a> <a href="Haste-Concurrent.html#t:CIO">CIO</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file://C:\Program Files\Haskell Platform\7.10.2-a\lib/../doc/html/libraries/base-4.8.1.0/Control-Applicative.html#t:Applicative">Applicative</a> <a href="Haste-Concurrent.html#t:CIO">CIO</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Haste.html#t:MonadIO">MonadIO</a> <a href="Haste-Concurrent.html#t:CIO">CIO</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Haste-Events.html#t:MonadEvent">MonadEvent</a> <a href="Haste-Concurrent.html#t:CIO">CIO</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Haste-Concurrent.html#t:MonadConc">MonadConc</a> <a href="Haste-Concurrent.html#t:CIO">CIO</a></span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="Haste.html#t:MonadIO">MonadIO</a> m =&gt; <a name="t:MonadConc" class="def">MonadConc</a> m <span class="keyword">where</span></p><div class="doc"><p>Any monad which supports concurrency.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:liftCIO" class="def">liftCIO</a> :: <a href="Haste-Concurrent.html#t:CIO">CIO</a> a -&gt; m a</p><p class="src"><a name="v:fork" class="def">fork</a> :: m () -&gt; m ()</p></div><div class="subs instances"><p id="control.i:MonadConc" class="caption collapser" onclick="toggleSection('i:MonadConc')">Instances</p><div id="section.i:MonadConc" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="Haste-Concurrent.html#t:MonadConc">MonadConc</a> <a href="Haste-Concurrent.html#t:CIO">CIO</a></span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:forkIO" class="def">forkIO</a> :: <a href="Haste-Concurrent.html#t:CIO">CIO</a> () -&gt; <a href="Haste-Concurrent.html#t:CIO">CIO</a> ()</p><div class="doc"><p>Spawn a new thread.</p></div></div><div class="top"><p class="src"><a name="v:forkMany" class="def">forkMany</a> :: [<a href="Haste-Concurrent.html#t:CIO">CIO</a> ()] -&gt; <a href="Haste-Concurrent.html#t:CIO">CIO</a> ()</p><div class="doc"><p>Spawn several threads at once.</p></div></div><div class="top"><p class="src"><a name="v:newMVar" class="def">newMVar</a> :: <a href="Haste.html#t:MonadIO">MonadIO</a> m =&gt; a -&gt; m (<a href="Haste-Concurrent.html#t:MVar">MVar</a> a)</p><div class="doc"><p>Create a new MVar with an initial value.</p></div></div><div class="top"><p class="src"><a name="v:newEmptyMVar" class="def">newEmptyMVar</a> :: <a href="Haste.html#t:MonadIO">MonadIO</a> m =&gt; m (<a href="Haste-Concurrent.html#t:MVar">MVar</a> a)</p><div class="doc"><p>Create a new empty MVar.</p></div></div><div class="top"><p class="src"><a name="v:takeMVar" class="def">takeMVar</a> :: <a href="Haste-Concurrent.html#t:MonadConc">MonadConc</a> m =&gt; <a href="Haste-Concurrent.html#t:MVar">MVar</a> a -&gt; m a</p><div class="doc"><p>Read an MVar. Blocks if the MVar is empty.
   Only the first writer in the write queue, if any, is woken.</p></div></div><div class="top"><p class="src"><a name="v:putMVar" class="def">putMVar</a> :: <a href="Haste-Concurrent.html#t:MonadConc">MonadConc</a> m =&gt; <a href="Haste-Concurrent.html#t:MVar">MVar</a> a -&gt; a -&gt; m ()</p><div class="doc"><p>Write an MVar. Blocks if the MVar is already full.
   Only the first reader in the read queue, if any, is woken.</p></div></div><div class="top"><p class="src"><a name="v:withMVarIO" class="def">withMVarIO</a> :: <a href="Haste-Concurrent.html#t:MonadConc">MonadConc</a> m =&gt; <a href="Haste-Concurrent.html#t:MVar">MVar</a> a -&gt; (a -&gt; <a href="file://C:\Program Files\Haskell Platform\7.10.2-a\lib/../doc/html/libraries/base-4.8.1.0/System-IO.html#t:IO">IO</a> b) -&gt; m b</p><div class="doc"><p>Perform an IO action over an MVar.</p></div></div><div class="top"><p class="src"><a name="v:modifyMVarIO" class="def">modifyMVarIO</a> :: <a href="Haste-Concurrent.html#t:MonadConc">MonadConc</a> m =&gt; <a href="Haste-Concurrent.html#t:MVar">MVar</a> a -&gt; (a -&gt; <a href="file://C:\Program Files\Haskell Platform\7.10.2-a\lib/../doc/html/libraries/base-4.8.1.0/System-IO.html#t:IO">IO</a> (a, b)) -&gt; m b</p><div class="doc"><p>Perform an IO action over an MVar, then write the MVar back.</p></div></div><div class="top"><p class="src"><a name="v:readMVar" class="def">readMVar</a> :: <a href="Haste-Concurrent.html#t:MonadConc">MonadConc</a> m =&gt; <a href="Haste-Concurrent.html#t:MVar">MVar</a> a -&gt; m a</p><div class="doc"><p>Read an MVar then put it back. As Javascript is single threaded, this
   function is atomic. If this ever changes, this function will only be
   atomic as long as no other thread attempts to write to the MVar.</p></div></div><div class="top"><p class="src"><a name="v:concurrent" class="def">concurrent</a> :: <a href="Haste-Concurrent.html#t:CIO">CIO</a> () -&gt; <a href="file://C:\Program Files\Haskell Platform\7.10.2-a\lib/../doc/html/libraries/base-4.8.1.0/System-IO.html#t:IO">IO</a> ()</p><div class="doc"><p>Run a concurrent computation. Two different concurrent computations may
   share MVars; if this is the case, then a call to <code><a href="Haste-Concurrent.html#v:concurrent">concurrent</a></code> may return
   before all the threads it spawned finish executing.</p></div></div><div class="top"><p class="src"><a name="v:liftIO" class="def">liftIO</a> :: <a href="Haste.html#t:MonadIO">MonadIO</a> m =&gt; <span class="keyword">forall</span> a. <a href="file://C:\Program Files\Haskell Platform\7.10.2-a\lib/../doc/html/libraries/base-4.8.1.0/System-IO.html#t:IO">IO</a> a -&gt; m a</p><div class="doc"><p>Lift a computation from the <code><a href="file://C:\Program Files\Haskell Platform\7.10.2-a\lib/../doc/html/libraries/base-4.8.1.0/System-IO.html#t:IO">IO</a></code> monad.</p></div></div><div class="top"><p class="src"><a name="v:tryTakeMVar" class="def">tryTakeMVar</a> :: <a href="Haste-Concurrent.html#t:MonadConc">MonadConc</a> m =&gt; <a href="Haste-Concurrent.html#t:MVar">MVar</a> a -&gt; m (<a href="file://C:\Program Files\Haskell Platform\7.10.2-a\lib/../doc/html/libraries/base-4.8.1.0/Data-Maybe.html#t:Maybe">Maybe</a> a)</p><div class="doc"><p>Try to take a value from an MVar, but return <code>Nothing</code> if it is empty.</p></div></div><div class="top"><p class="src"><a name="v:tryPutMVar" class="def">tryPutMVar</a> :: <a href="Haste-Concurrent.html#t:MonadConc">MonadConc</a> m =&gt; <a href="Haste-Concurrent.html#t:MVar">MVar</a> a -&gt; a -&gt; m <a href="file://C:\Program Files\Haskell Platform\7.10.2-a\lib/../doc/html/libraries/base-4.8.1.0/Data-Bool.html#t:Bool">Bool</a></p><div class="doc"><p>Try to put a value into an MVar, returning <code>False</code> if the MVar is already
   full.</p></div></div><div class="top"><p class="src"><a name="v:wait" class="def">wait</a> :: <a href="file://C:\Program Files\Haskell Platform\7.10.2-a\lib/../doc/html/libraries/base-4.8.1.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="Haste-Concurrent.html#t:CIO">CIO</a> ()</p><div class="doc"><p>Wait for n milliseconds.</p></div></div><div class="top"><p class="src"><a name="v:withResult" class="def">withResult</a> :: <a href="Haste-Concurrent.html#t:CIO">CIO</a> a -&gt; (a -&gt; <a href="file://C:\Program Files\Haskell Platform\7.10.2-a\lib/../doc/html/libraries/base-4.8.1.0/System-IO.html#t:IO">IO</a> ()) -&gt; <a href="file://C:\Program Files\Haskell Platform\7.10.2-a\lib/../doc/html/libraries/base-4.8.1.0/System-IO.html#t:IO">IO</a> ()</p><div class="doc"><p>When the given concurrent computation is done, pass the result to the
   given callback.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.1</p></div></body></html>